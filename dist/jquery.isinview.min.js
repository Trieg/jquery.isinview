// jQuery.isInView, v0.4.1
// Copyright (c)2015 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.isinview


!function(a){"use strict";function b(b,e){var f,g,h,i,j,k,l,o,p,q,r,s,t,v,w={},x={},y={},z=b[0];if(b=b.eq(0),e||(e="both"),w.getBoth="both"===e,w.getHorizontal="horizontal"===e||w.getBoth,w.getVertical="vertical"===e||w.getBoth,"horizontal"!==e&&"vertical"!==e&&"both"!==e)throw new Error("Invalid parameter value: axis = "+e);return b.length?(f=a.isWindow(z),f?y.document=z.document:9===z.nodeType?(y.document=z,f=!0):z===z.ownerDocument.documentElement?(y.document=z.ownerDocument,f=!0):1===z.nodeType&&"iframe"===z.tagName.toLowerCase()?(y.document=z.contentDocument||z.contentWindow.document,f=!0):z===z.ownerDocument.body&&(y.document=z.ownerDocument,g=!0),h=!(f||g),(f||g)&&(y.$document=a(y.document),y.documentElement=y.document.documentElement,y.body=y.document.body,z=b=void 0),j=["overflow"],(w.getHorizontal||h)&&j.push("overflowX"),(w.getVertical||h)&&j.push("overflowY"),f||g?(k=["overflow","position"],w.getHorizontal&&k.push("overflowX"),w.getVertical&&k.push("overflowY"),p=u(y.documentElement,j,{toLowerCase:!0}),o=u(y.body,k,{toLowerCase:!0}),q=n(p,o),p=q.window,a.extend(o,q.body),o.positioned="absolute"===o.position||"relative"===o.position):(l=u(z,j,{toLowerCase:!0}),l=m(l,!0)),f?x=c(p,o,w,y):g?(i=a(y.body),w.getHorizontal&&(x.horizontal=o.overflowScrollX||o.overflowAutoX&&y.body.clientWidth<i.width()),w.getVertical&&(x.vertical=o.overflowScrollY||o.overflowAutoY&&y.body.clientHeight<i.height())):(t=z.scrollWidth,v=z.scrollHeight,x.horizontal=t>0&&(l.overflowScrollX||l.overflowAutoX&&(r=b.innerWidth())<t),x.vertical=v>0&&(l.overflowScrollY||l.overflowAutoY&&(s=b.innerHeight())<v),x.vertical=x.vertical||x.horizontal&&s-d()<v,x.horizontal=x.horizontal||x.vertical&&r-d()<t),w.getBoth?x:w.getHorizontal?x.horizontal:x.vertical):void 0}function c(b,c,d,e){var f,g=[],h=[],i={},j=!d.getHorizontal,k=!d.getVertical;return!j&&b.overflowScrollX&&(i.horizontal=j=!0),!k&&b.overflowScrollY&&(i.vertical=k=!0),c.obscuresOverflowX=!c.overflowVisibleX,c.obscuresOverflowY=!c.overflowVisibleY,j||c.obscuresOverflowX||(c.rightDocumentEdge=C(e.document)),k||c.obscuresOverflowY||(c.bottomDocumentEdge=D(e.document)),(c.positioned&&!j&&c.obscuresOverflowX||!k&&c.obscuresOverflowY)&&(!j&&c.obscuresOverflowX&&(g.push("marginLeft","borderLeftWidth","paddingLeft","marginRight","borderRightWidth","paddingRight"),h.push("left","marginLeft","marginRight")),!k&&c.obscuresOverflowY&&(g.push("marginTop","borderTopWidth","paddingTop","marginBottom","borderBottomWidth","paddingBottom"),h.push("top","marginTop","marginBottom")),a.extend(c,u(e.body,h,{toFloat:!0})),a.extend(b,u(e.documentElement,g,{toFloat:!0})),f=v(e.body)),!j&&c.obscuresOverflowX&&(c.positioned?(b.leftOffsets=b.marginLeft+b.borderLeftWidth+b.paddingLeft,b.horizontalOffsets=b.leftOffsets+b.marginRight+b.borderRightWidth+b.paddingRight,c.horizontalMargins=c.marginLeft+c.marginRight,c.definesRightDocumentEdge=!0,c.rightDocumentEdge="relative"===c.position?Math.max(f.width+c.horizontalMargins+b.horizontalOffsets,f.width+c.horizontalMargins+c.left+b.leftOffsets):c.left+f.width+c.horizontalMargins):c.rightDocumentEdge=C(e.document)),!k&&c.obscuresOverflowY&&(c.positioned?(b.topOffsets=b.marginTop+b.borderTopWidth+b.paddingTop,b.verticalOffsets=b.topOffsets+b.marginBottom+b.borderBottomWidth+b.paddingBottom,c.verticalMargins=c.marginTop+c.marginBottom,c.bottomDocumentEdge="relative"===c.position?Math.max(f.height+c.verticalMargins+b.verticalOffsets,f.height+c.verticalMargins+c.top+b.topOffsets):c.top+f.height+c.verticalMargins):c.bottomDocumentEdge=D(e.document)),j||(i.horizontal=b.overflowAutoX&&e.documentElement.clientWidth<c.rightDocumentEdge),k||(i.vertical=b.overflowAutoY&&e.documentElement.clientHeight<c.bottomDocumentEdge),i}function d(){var a;return void 0===A&&(a=document.createElement("div"),a.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -500px; left: -500px; margin: 0px; padding: 0px; border: none;",document.body.appendChild(a),A=a.offsetWidth-a.clientWidth,document.body.removeChild(a)),A}function e(a,c){var e,f,g,h,i,j,k=d();if(c||(c="both"),g="both"===c,e="horizontal"===c||g,f="vertical"===c||g,"horizontal"!==c&&"vertical"!==c&&"both"!==c)throw new Error("Invalid parameter value: axis = "+c);return a.length?0===k?g?{horizontal:0,vertical:0}:0:(h=g?b(a):e?{horizontal:b(a,"horizontal")}:{vertical:b(a,"vertical")},e&&(i=h.horizontal?k:0),f&&(j=h.vertical?k:0),g?{horizontal:i,vertical:j}:e?i:j):void 0}function f(b){var c=b[0],d=c&&(9===c.nodeType?c:c.ownerDocument);return d&&(d.defaultView||d.parentWindow)||a.isWindow(c)&&c||void 0}function g(b,c,d){var e,f=[];return b.length?(e=i(b,c,d),p(b[0],e.container),b.each(function(){j(this,e)&&f.push(this)}),a(f)):a()}function h(a,b,c){var d,e=a[0];return a.length?(d=i(a,b,c),p(e,d.container),j(e,d)):!1}function i(b,c,d){var e,g,h={};return d||(d={}),c||(c=f(b)),h.$container=e=o(c),h.container=c=e[0],q(d),g=d.direction||"both",h.useVertical="both"===g||"vertical"===g,h.useHorizontal="both"===g||"horizontal"===g,h.partially=d.partially,h.excludeHidden=d.excludeHidden,h.borderBox="content-box"!==d.box,h.containerIsWindow=a.isWindow(c),void 0!==d.tolerance?(h.toleranceType=y(d.tolerance)||"px"===d.tolerance.slice(-3)?"add":"multiply",h.tolerance="add"===h.toleranceType?parseFloat(d.tolerance):parseFloat(d.tolerance)/100+1):(h.tolerance=0,h.toleranceType="add"),h.cache={},h}function j(a,b){var c,d,e,f,g,h=b.container,i=b.$container,j=b.cache,m=!0;if(a===h)throw new Error("Invalid container: is the same as the element");return!b.excludeHidden||a.offsetWidth>0&&a.offsetHeight>0?(b.useHorizontal&&(c=j.containerWidth||(j.containerWidth=r(i,b.containerIsWindow))),b.useVertical&&(d=j.containerHeight||(j.containerHeight=s(i,b.containerIsWindow))),e=j.hTolerance||(j.hTolerance="add"===b.toleranceType?b.tolerance:c*b.tolerance),f=j.vTolerance||(j.vTolerance="add"===b.toleranceType?b.tolerance:d*b.tolerance),g=b.borderBox?a.getBoundingClientRect():l(a),b.containerIsWindow||(g=k(g,i,j)),b.partially?(b.useVertical&&(m=g.top<d+f&&g.bottom>-f),b.useHorizontal&&(m=m&&g.left<c+e&&g.right>-e)):(b.useVertical&&(m=g.top>=-f&&g.top<d+f&&g.bottom>-f&&g.bottom<=d+f),b.useHorizontal&&(m=m&&g.left>=-e&&g.left<c+e&&g.right>-e&&g.right<=c+e)),m):!1}function k(b,c,d){var e,f,g;return d&&d.relativeRectCorrections?g=d.relativeRectCorrections:(e=c[0].getBoundingClientRect(),f=x(c.css(["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"])),g={top:e.top-f.borderTopWidth,bottom:e.top+f.borderBottomWidth,left:e.left-f.borderLeftWidth,right:e.left+f.borderRightWidth},d&&(d.relativeRectCorrections=a.extend({},g))),{top:b.top-g.top,bottom:b.bottom-g.bottom,left:b.left-g.left,right:b.right-g.right}}function l(a){var b=a.getBoundingClientRect(),c=u(a,["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft"],{toFloat:!0});return{top:b.top+c.paddingTop+c.borderTopWidth,right:b.right-(c.paddingRight+c.borderRightWidth),bottom:b.bottom-(c.paddingBottom+c.borderBottomWidth),left:b.left+c.paddingLeft+c.borderLeftWidth}}function m(b,c){var d={};return d.overflowX=b.overflowX||b.overflow||"visible",d.overflowY=b.overflowY||b.overflow||"visible",c&&a.each(["Visible","Auto","Scroll","Hidden"],function(a,b){var c=b.toLowerCase();d["overflow"+b+"X"]=d.overflowX===c,d["overflow"+b+"Y"]=d.overflowY===c}),d}function n(a,b){var c=m(a,!1),d=m(b,!1),e={window:{},body:{}};return"visible"===c.overflowX?(e.body.overflowX="visible",e.window.overflowX=d.overflowX):(e.body.overflowX=d.overflowX,e.window.overflowX=c.overflowX),"visible"===c.overflowY?(e.body.overflowY="visible",e.window.overflowY=d.overflowY):(e.body.overflowY=d.overflowY,e.window.overflowY=c.overflowY),"visible"===e.window.overflowX&&(e.window.overflowX="auto"),"visible"===e.window.overflowY&&(e.window.overflowY="auto"),w()&&("hidden"===e.window.overflowX&&(e.window.overflowX="auto"),"hidden"===e.window.overflowY&&(e.window.overflowY="auto")),e.window=m(e.window,!0),e.body=m(e.body,!0),e}function o(b){var c;if(c=b instanceof a?b:b===F?G:a(b),!c.length)throw new Error("Invalid container: empty jQuery object");if(b=c[0],9===b.nodeType?c=o(b.defaultView||b.parentWindow):1===b.nodeType&&"iframe"===b.tagName.toLowerCase()&&(c=o(b.contentWindow)),!a.isWindow(c[0])&&"visible"===c.css("overflow"))throw new Error("Invalid container: is set to overflow:visible. Containers must have the ability to obscure some of their content, otherwise the in-view test is pointless. Containers must be set to overflow:scroll/auto/hide, or be a window (or document, or iframe, as proxies for a window)");return c}function p(b,c){var d;if(1!==b.nodeType)throw new Error("Invalid node: is not an element");if(d=a.isWindow(c)?b.ownerDocument&&c===(b.ownerDocument.defaultView||b.ownerDocument.parentWindow):9===c.nodeType?a.contains(c.documentElement,b):a.contains(c,b),!d)throw new Error("Invalid container: is not an ancestor of the element")}function q(a){var b,c;if(a.direction&&"vertical"!==a.direction&&"horizontal"!==a.direction&&"both"!==a.direction)throw new Error('Invalid option value: direction = "'+a.direction+'"');if(a.box&&"border-box"!==a.box&&"content-box"!==a.box)throw new Error('Invalid option value: box = "'+a.box+'"');if(void 0!==a.tolerance&&(b=y(a.tolerance),c=z(a.tolerance)&&/^[+-]?\d*\.?\d+(px|%)?$/.test(a.tolerance),!b&&!c))throw new Error('Invalid option value: tolerance = "'+a.tolerance+'"')}function r(a,b){var c;return b||(c=e(a)),b?t(a,"Width"):a.innerWidth()-c.vertical}function s(a,b){var c;return b||(c=e(a)),b?t(a,"Height"):a.innerHeight()-c.horizontal}function t(a,b){var c=a[0].document,d="client"+b;return"BackCompat"===c.compatMode?c.body[d]:c.documentElement[d]}function u(b,c,d){var e,f,g,h={},i=b.ownerDocument.defaultView||b.ownerDocument.parentWindow,j=E?i.getComputedStyle(b,null):b.currentStyle;for(d||(d={}),a.isArray(c)||(c=[c]),f=c.length,e=0;f>e;e++)g=c[e],h[g]=a.css(b,g,!1,j),d.toLowerCase&&h[g]&&h[g].toLowerCase&&(h[g]=h[g].toLowerCase()),d.toFloat&&(h[g]=parseFloat(h[g]));return h}function v(a){var b=a.getBoundingClientRect();return(void 0===b.width||void 0===b.height)&&(b={top:b.top,left:b.left,bottom:b.bottom,right:b.right,width:b.right-b.left,height:b.bottom-b.top}),b}function w(){return void 0===B&&(B=/iPad|iPhone|iPod/g.test(navigator.userAgent)),B}function x(b){var c={};return a.map(b,function(a,b){c[b]=parseFloat(a)}),c}function y(a){var b="number"==typeof a||a&&"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)||!1;return b&&a===+a}function z(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)||!1}var A,B,C,D,E=!!window.getComputedStyle,F=window,G=a(window);a.fn.hasScrollbar=function(a){return b(this,a)},a.fn.scrollbarWidth=function(a){return e(this,a)},a.scrollbarWidth=d,a.fn.ownerWindow=function(){return f(this)},a.fn.inView=function(a,b){return g(this,a,b)},a.fn.inViewport=function(a){return g(this,f(this),a)},a.fn.isInView=function(a,b){return h(this,a,b)},a.fn.isInViewport=function(a){return h(this,f(this),a)},a.expr.match.inviewport=/^(?:inVieport)$/i,a.expr.setFilters.inviewport=a.expr.createPseudo(function(){return a.expr.createPseudo(function(b,c){var d,e,f=b.length;if(f)for(e=i(a(b)),p(b[0],e.container),d=0;f>d;d++)c[d]=j(b[d],e)?b[d]:void 0})}),function(){function b(){var b,e,f,g=c(),h=g&&g.contentDocument||document,i=a(h.documentElement),j=h.body,k=a(j),l=(i.css("overflowX")||i.css("overflow")||"visible").toLowerCase(),m=(k.css("overflowX")||k.css("overflow")||"visible").toLowerCase(),n="hidden"!==m,o="visible"===l;b=h.createElement("div"),b.style.cssText="width: 1px; height: 1px; position: relative; top: 0px; left: 32000px;",o&&i.css({overflowX:"auto"}),n&&k.css({overflowX:"hidden"}),e=j.scrollWidth,j.appendChild(b),f=e!==j.scrollWidth,j.removeChild(b),o&&i.css({overflowX:l}),n&&k.css({overflowX:m}),d=f?"documentElement":"body",document.body.removeChild(g)}function c(){var a=document.createElement("iframe"),b=document.body;return a.style.cssText="position: absolute; top: -600px; left: -600px; width: 500px; height: 500px; margin: 0px; padding: 0px; border: none;",a.frameborder="0",b.appendChild(a),a.src="about:blank",a.contentDocument?(a.contentDocument.write('<!DOCTYPE html><html><head><meta charset="UTF-8"><title></title><style type="text/css">html, body { overflow: hidden; }</style></head><body></body></html>'),a):void 0}var d;C=function(a){return void 0===d&&b(),a[d].scrollWidth},D=function(a){return void 0===d&&b(),a[d].scrollHeight}}(),a(d)}(jQuery||$);
//# sourceMappingURL=jquery.isinview.min.js.map