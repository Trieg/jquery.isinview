// jQuery.isInView, v0.3.0
// Copyright (c)2015 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.isinview


!function(a){"use strict";function b(b,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=b[0];if(b=b.eq(0),d||(d="both"),g="both"===d,e="horizontal"===d||g,f="vertical"===d||g,"horizontal"!==d&&"vertical"!==d&&"both"!==d)throw new Error("Invalid parameter value: axis = "+d);return b.length?(j=a.isWindow(K),j?k=K.document:9===K.nodeType?(k=K,j=!0):K===K.ownerDocument.documentElement?(k=K.ownerDocument,j=!0):1===K.nodeType&&"iframe"===K.tagName.toLowerCase()&&(k=K.contentDocument||K.contentWindow.document,j=!0),j&&(l=a(k),m=k.documentElement,n=k.body,K=b=void 0),o=["overflow"],e&&o.push("overflowX"),f&&o.push("overflowY"),j&&(q=r(n,["overflow","overflowX","overflowY","position"],{toLowerCase:!0}),t="hidden"===q.overflow||"hidden"===q.overflowX,u="hidden"===q.overflow||"hidden"===q.overflowY,v="absolute"===q.position||"relative"===q.position),p=r(j?m:K,o,{toLowerCase:!0}),w="scroll"===p.overflowX||!p.overflowX&&"scroll"===p.overflow,x="scroll"===p.overflowY||!p.overflowY&&"scroll"===p.overflow,y="auto"===p.overflowX||!p.overflowX&&"auto"===p.overflow,z="auto"===p.overflowY||!p.overflowY&&"auto"===p.overflow,A="visible"===p.overflowX||!p.overflowX&&"visible"===p.overflow,B="visible"===p.overflowY||!p.overflowY&&"visible"===p.overflow,j?(e&&(h=w||(y||A)&&m.clientWidth<l.width()),f&&(i=x||(z||B)&&m.clientHeight<l.height()),(t||u)&&(s=r(n,["borderTopWidth","borderLeftWidth","marginTop","marginLeft"],{toFloat:!0})),t&&(v?h=w:(G=n.scrollWidth,I=m.scrollWidth,(G===I||G+s.borderLeftWidth+s.marginLeft===I)&&(h=w))),u&&(v?i=x:(H=n.scrollHeight,J=m.scrollHeight,(H===J||H+s.borderTopWidth+s.marginTop===J)&&(i=x)))):(E=K.scrollWidth,F=K.scrollHeight,h=E>0&&(w||y&&(C=b.innerWidth())<E),i=F>0&&(x||z&&(D=b.innerHeight())<F),i=i||h&&D-c()<F,h=h||i&&C-c()<E),g?{horizontal:h,vertical:i}:e?h:i):void 0}function c(){var b,c;return void 0===v&&(c=a(document.createElement("div")).css({margin:0,padding:0,borderStyle:"none"}),b=a(document.createElement("div")).css({width:"100px",height:"100px",overflow:"auto",position:"absolute",top:"-500px",left:"-500px",margin:0,padding:0,borderStyle:"none"}).append(c).appendTo("body"),v=c.innerWidth()-c.height(150).innerWidth(),b.remove()),v}function d(a,d){var e,f,g,h,i,j,k=c();if(d||(d="both"),g="both"===d,e="horizontal"===d||g,f="vertical"===d||g,"horizontal"!==d&&"vertical"!==d&&"both"!==d)throw new Error("Invalid parameter value: axis = "+d);return a.length?0===k?g?{horizontal:0,vertical:0}:0:(h=g?b(a):e?{horizontal:b(a,"horizontal")}:{vertical:b(a,"vertical")},e&&(i=h.horizontal?k:0),f&&(j=h.vertical?k:0),g?{horizontal:i,vertical:j}:e?i:j):void 0}function e(b){var c=b[0],d=c&&(9===c.nodeType?c:c.ownerDocument);return d&&(d.defaultView||d.parentWindow)||a.isWindow(c)&&c||void 0}function f(b,c,d){var e,f=[];return b.length?(e=h(b,c,d),m(b[0],e.container),b.each(function(){i(this,e)&&f.push(this)}),a(f)):a()}function g(a,b,c){var d,e=a[0];return a.length?(d=h(a,b,c),m(e,d.container),i(e,d)):!1}function h(b,c,d){var f,g,h={};return d||(d={}),c||(c=e(b)),h.$container=f=l(c),h.container=c=f[0],n(d),g=d.direction||"both",h.useVertical="both"===g||"vertical"===g,h.useHorizontal="both"===g||"horizontal"===g,h.partially=d.partially,h.excludeHidden=d.excludeHidden,h.borderBox="content-box"!==d.box,h.containerIsWindow=a.isWindow(c),"undefined"!=typeof d.tolerance?(h.toleranceType=t(d.tolerance)||"px"===d.tolerance.slice(-3)?"add":"multiply",h.tolerance="add"===h.toleranceType?parseFloat(d.tolerance):parseFloat(d.tolerance)/100+1):(h.tolerance=0,h.toleranceType="add"),h.cache={},h}function i(a,b){var c,d,e,f,g,h=b.container,i=b.$container,l=b.cache,m=!0;if(a===h)throw new Error("Invalid container: is the same as the element");return!b.excludeHidden||a.offsetWidth>0&&a.offsetHeight>0?(b.useHorizontal&&(c=l.containerWidth||(l.containerWidth=o(i,b.containerIsWindow))),b.useVertical&&(d=l.containerHeight||(l.containerHeight=p(i,b.containerIsWindow))),e=l.hTolerance||(l.hTolerance="add"===b.toleranceType?b.tolerance:c*b.tolerance),f=l.vTolerance||(l.vTolerance="add"===b.toleranceType?b.tolerance:d*b.tolerance),g=b.borderBox?a.getBoundingClientRect():k(a),b.containerIsWindow||(g=j(g,i,l)),b.partially?(b.useVertical&&(m=g.top<d+f&&g.bottom>-f),b.useHorizontal&&(m=m&&g.left<c+e&&g.right>-e)):(b.useVertical&&(m=g.top>=-f&&g.top<d+f&&g.bottom>-f&&g.bottom<=d+f),b.useHorizontal&&(m=m&&g.left>=-e&&g.left<c+e&&g.right>-e&&g.right<=c+e)),m):!1}function j(b,c,d){var e,f,g;return d&&d.relativeRectCorrections?g=d.relativeRectCorrections:(e=c[0].getBoundingClientRect(),f=s(c.css(["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"])),g={top:e.top-f.borderTopWidth,bottom:e.top+f.borderBottomWidth,left:e.left-f.borderLeftWidth,right:e.left+f.borderRightWidth},d&&(d.relativeRectCorrections=a.extend({},g))),{top:b.top-g.top,bottom:b.bottom-g.bottom,left:b.left-g.left,right:b.right-g.right}}function k(a){var b=a.getBoundingClientRect(),c=r(a,["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft"],{toFloat:!0});return{top:b.top+c.paddingTop+c.borderTopWidth,right:b.right-(c.paddingRight+c.borderRightWidth),bottom:b.bottom-(c.paddingBottom+c.borderBottomWidth),left:b.left+c.paddingLeft+c.borderLeftWidth}}function l(b){var c;if(c=b instanceof a?b:b===w?x:a(b),!c.length)throw new Error("Invalid container: empty jQuery object");if(b=c[0],9===b.nodeType?c=l(b.defaultView||b.parentWindow):1===b.nodeType&&"iframe"===b.tagName.toLowerCase()&&(c=l(b.contentWindow)),!a.isWindow(c[0])&&"visible"===c.css("overflow"))throw new Error("Invalid container: is set to overflow:visible. Containers must have the ability to obscure some of their content, otherwise the in-view test is pointless. Containers must be set to overflow:scroll/auto/hide, or be a window (or document, or iframe, as proxies for a window)");return c}function m(b,c){var d;if(1!==b.nodeType)throw new Error("Invalid node: is not an element");if(d=a.isWindow(c)?b.ownerDocument&&c===(b.ownerDocument.defaultView||b.ownerDocument.parentWindow):9===c.nodeType?a.contains(c.documentElement,b):a.contains(c,b),!d)throw new Error("Invalid container: is not an ancestor of the element")}function n(a){var b,c;if(a.direction&&"vertical"!==a.direction&&"horizontal"!==a.direction&&"both"!==a.direction)throw new Error('Invalid option value: direction = "'+a.direction+'"');if(a.box&&"border-box"!==a.box&&"content-box"!==a.box)throw new Error('Invalid option value: box = "'+a.box+'"');if("undefined"!=typeof a.tolerance&&(b=t(a.tolerance),c=u(a.tolerance)&&/^[+-]?\d*\.?\d+(px|%)?$/.test(a.tolerance),!b&&!c))throw new Error('Invalid option value: tolerance = "'+a.tolerance+'"')}function o(a,b){var c;return b||(c=d(a)),b?q(a,"Width"):a.innerWidth()-c.vertical}function p(a,b){var c;return b||(c=d(a)),b?q(a,"Height"):a.innerHeight()-c.horizontal}function q(a,b){var c=a[0].document,d="client"+b;return"BackCompat"===c.compatMode?c.body[d]:c.documentElement[d]}function r(b,c,d){var e,f,g,h={},i=(b.ownerDocument.defaultView||b.ownerDocument.parentWindow).getComputedStyle(b,null);for(d||(d={}),a.isArray(c)||(c=[c]),f=c.length,e=0;f>e;e++)g=c[e],h[g]=a.css(b,g,!1,i),d.toLowerCase&&h[g]&&h[g].toLowerCase&&(h[g]=h[g].toLowerCase()),d.toFloat&&(h[g]=parseFloat(h[g]));return h}function s(b){var c={};return a.map(b,function(a,b){c[b]=parseFloat(a)}),c}function t(a){var b="number"==typeof a||a&&"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)||!1;return b&&a===+a}function u(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)||!1}var v,w=window,x=a(window);a.fn.hasScrollbar=function(a){return b(this,a)},a.fn.scrollbarWidth=function(a){return d(this,a)},a.scrollbarWidth=c,a.fn.ownerWindow=function(){return e(this)},a.fn.inView=function(a,b){return f(this,a,b)},a.fn.inViewport=function(a){return f(this,e(this),a)},a.fn.isInView=function(a,b){return g(this,a,b)},a.fn.isInViewport=function(a){return g(this,e(this),a)},a.expr.match.inviewport=/^(?:inVieport)$/i,a.expr.setFilters.inviewport=a.expr.createPseudo(function(){return a.expr.createPseudo(function(b,c){var d,e,f=b.length;if(f)for(e=h(a(b)),m(b[0],e.container),d=0;f>d;d++)c[d]=i(b[d],e)?b[d]:void 0})})}(jQuery||$);
//# sourceMappingURL=jquery.isinview.min.js.map