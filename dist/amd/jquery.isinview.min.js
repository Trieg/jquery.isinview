// jQuery.isInView, v0.1.0
// Copyright (c)2014 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.isinview


!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd&&define(["jquery"],b)}(this,function(jQuery){"use strict";!function(a){function b(b,c,d){var e,f,g;return d&&d.relativeRectCorrections?f=d.relativeRectCorrections:(e=c[0].getBoundingClientRect(),g=c.css(["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"]),f={top:e.top-parseFloat(g.borderTopWidth),bottom:e.top+parseFloat(g.borderBottomWidth),left:e.left-parseFloat(g.borderLeftWidth),right:e.left+parseFloat(g.borderRightWidth)},d&&(d.relativeRectCorrections=a.extend({},f))),{top:b.top-f.top,bottom:b.bottom-f.bottom,left:b.left-f.left,right:b.right-f.right}}function c(b){var d;if(d=b instanceof a?b:b===o?p:a(b),!d.length)throw new Error("Invalid container: empty jQuery object");if(b=d[0],9===b.nodeType?d=c(b.defaultView||b.parentWindow):1===b.nodeType&&"iframe"===b.tagName.toLowerCase()&&(d=c(b.contentWindow)),!a.isWindow(d[0])&&"visible"===d.css("overflow"))throw new Error("Invalid container: is set to overflow:visible. Containers must have the ability to obscure some of their content, otherwise the in-view test is pointless. Containers must be set to overflow:scroll/auto/hide, or be a window (or document, or iframe, as proxies for a window)");return d}function d(b,c){var d;if(1!==b.nodeType)throw new Error("Invalid node: is not an element");if(d=a.isWindow(c)?b.ownerDocument&&c===(b.ownerDocument.defaultView||b.ownerDocument.parentWindow):9===c.nodeType?a.contains(c.documentElement,b):a.contains(c,b),!d)throw new Error("Invalid container: is not an ancestor of the element")}function e(a){var b,c;if(a.direction&&"vertical"!==a.direction&&"horizontal"!==a.direction&&"both"!==a.direction)throw new Error('Invalid option value: direction = "'+a.direction+'"');if("undefined"!=typeof a.tolerance&&(b=f(a.tolerance),c=g(a.tolerance)&&/^[+-]?\d*\.?\d+(px|%)?$/.test(a.tolerance),!b&&!c))throw new Error('Invalid option value: tolerance = "'+a.tolerance+'"')}function f(a){var b="number"==typeof a||a&&"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)||!1;return b&&a===+a}function g(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)||!1}function h(b,d,g){var h,i,j={};return g||(g={}),d||(d=b.ownerWindow()),j.$container=h=c(d),j.container=d=h[0],e(g),i=g.direction||"both",j.useVertical="both"===i||"vertical"===i,j.useHorizontal="both"===i||"horizontal"===i,j.partially=g.partially,j.excludeHidden=g.excludeHidden,j.containerIsWindow=a.isWindow(d),"undefined"!=typeof g.tolerance?(j.toleranceType=f(g.tolerance)||"px"===g.tolerance.slice(-3)?"add":"multiply",j.tolerance="add"===j.toleranceType?parseFloat(g.tolerance):parseFloat(g.tolerance)/100+1):(j.tolerance=0,j.toleranceType="add"),j.cache={},j}function i(a,c){var d,e,f,g,h,i=c.container,l=c.$container,m=c.cache,n=!0;if(a===i)throw new Error("Invalid container: is the same as the element");return!c.excludeHidden||a.offsetWidth>0&&a.offsetHeight>0?(c.useHorizontal&&(d=m.viewportWidth||(m.viewportWidth=j(l,c.containerIsWindow))),c.useVertical&&(e=m.viewportHeight||(m.viewportHeight=k(l,c.containerIsWindow))),f=m.hTolerance||(m.hTolerance="add"===c.toleranceType?c.tolerance:d*c.tolerance),g=m.vTolerance||(m.vTolerance="add"===c.toleranceType?c.tolerance:e*c.tolerance),h=a.getBoundingClientRect(),c.containerIsWindow||(h=b(h,l,m)),c.partially?(c.useVertical&&(n=h.top<e+g&&h.bottom>-g),c.useHorizontal&&(n=n&&h.left<d+f&&h.right>-f)):(c.useVertical&&(n=h.top>=-g&&h.top<e+g&&h.bottom>-g&&h.bottom<=e+g),c.useHorizontal&&(n=n&&h.left>=-f&&h.left<d+f&&h.right>-f&&h.right<=d+f)),n):!1}function j(a,b){return b?l(a,"Width"):a.width()}function k(a,b){return b?l(a,"Height"):a.height()}function l(a,b){var c=a[0].document,d="client"+b;return"BackCompat"===c.compatMode?c.body[d]:c.documentElement[d]}var m,n,o=window,p=a(window);a.scrollbarWidth=function(){var b,c;return void 0===n&&(c=a(document.createElement("div")).css({margin:0,padding:0,borderStyle:"none"}),b=a(document.createElement("div")).css({width:"100px",height:"100px",overflow:"auto",position:"absolute",top:"-500px",left:"-500px",margin:0,padding:0,borderStyle:"none"}).append(c).appendTo("body"),n=c.innerWidth()-c.height(150).innerWidth(),b.remove()),n},a.fn.ownerWindow=function(){var b=this[0],c=b&&(9===b.nodeType?b:b.ownerDocument);return c&&(c.defaultView||c.parentWindow)||a.isWindow(b)&&b||void 0},a.fn.inView=function(b,c){var e,f=this,g=[];return f.length?(e=h(f,b,c),d(f[0],e.container),f.each(function(){i(this,e)&&g.push(this)}),a(g)):a()},a.fn.inViewport=function(a){return this.inView(this.ownerWindow(),a)},a.fn.isInView=function(a,b){var c,e=this,f=this[0];return e.length?(c=h(e,a,b),d(f,c.container),i(f,c)):!1},a.fn.isInViewport=function(a){return this.isInView(this.ownerWindow(),a)},a.expr[":"].inViewport=function(b,c,e,f){var g=m;return 0===c?(g=m=h(a(b)),d(b,g.container)):c===f.length-1&&(m=void 0),i(b,g)}}(jQuery||$)});
//# sourceMappingURL=jquery.isinview.min.js.map