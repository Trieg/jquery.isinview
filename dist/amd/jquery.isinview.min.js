// jQuery.isInView, v0.1.1
// Copyright (c)2014 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.isinview


!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd&&define(["jquery"],b)}(this,function(jQuery){"use strict";!function(a){function b(b,c,d){var f,h,i={};return d||(d={}),c||(c=b.ownerWindow()),i.$container=f=e(c),i.container=c=f[0],g(d),h=d.direction||"both",i.useVertical="both"===h||"vertical"===h,i.useHorizontal="both"===h||"horizontal"===h,i.partially=d.partially,i.excludeHidden=d.excludeHidden,i.containerIsWindow=a.isWindow(c),"undefined"!=typeof d.tolerance?(i.toleranceType=k(d.tolerance)||"px"===d.tolerance.slice(-3)?"add":"multiply",i.tolerance="add"===i.toleranceType?parseFloat(d.tolerance):parseFloat(d.tolerance)/100+1):(i.tolerance=0,i.toleranceType="add"),i.cache={},i}function c(a,b){var c,e,f,g,j,k=b.container,l=b.$container,m=b.cache,n=!0;if(a===k)throw new Error("Invalid container: is the same as the element");return!b.excludeHidden||a.offsetWidth>0&&a.offsetHeight>0?(b.useHorizontal&&(c=m.viewportWidth||(m.viewportWidth=h(l,b.containerIsWindow))),b.useVertical&&(e=m.viewportHeight||(m.viewportHeight=i(l,b.containerIsWindow))),f=m.hTolerance||(m.hTolerance="add"===b.toleranceType?b.tolerance:c*b.tolerance),g=m.vTolerance||(m.vTolerance="add"===b.toleranceType?b.tolerance:e*b.tolerance),j=a.getBoundingClientRect(),b.containerIsWindow||(j=d(j,l,m)),b.partially?(b.useVertical&&(n=j.top<e+g&&j.bottom>-g),b.useHorizontal&&(n=n&&j.left<c+f&&j.right>-f)):(b.useVertical&&(n=j.top>=-g&&j.top<e+g&&j.bottom>-g&&j.bottom<=e+g),b.useHorizontal&&(n=n&&j.left>=-f&&j.left<c+f&&j.right>-f&&j.right<=c+f)),n):!1}function d(b,c,d){var e,f,g;return d&&d.relativeRectCorrections?f=d.relativeRectCorrections:(e=c[0].getBoundingClientRect(),g=c.css(["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"]),f={top:e.top-parseFloat(g.borderTopWidth),bottom:e.top+parseFloat(g.borderBottomWidth),left:e.left-parseFloat(g.borderLeftWidth),right:e.left+parseFloat(g.borderRightWidth)},d&&(d.relativeRectCorrections=a.extend({},f))),{top:b.top-f.top,bottom:b.bottom-f.bottom,left:b.left-f.left,right:b.right-f.right}}function e(b){var c;if(c=b instanceof a?b:b===n?o:a(b),!c.length)throw new Error("Invalid container: empty jQuery object");if(b=c[0],9===b.nodeType?c=e(b.defaultView||b.parentWindow):1===b.nodeType&&"iframe"===b.tagName.toLowerCase()&&(c=e(b.contentWindow)),!a.isWindow(c[0])&&"visible"===c.css("overflow"))throw new Error("Invalid container: is set to overflow:visible. Containers must have the ability to obscure some of their content, otherwise the in-view test is pointless. Containers must be set to overflow:scroll/auto/hide, or be a window (or document, or iframe, as proxies for a window)");return c}function f(b,c){var d;if(1!==b.nodeType)throw new Error("Invalid node: is not an element");if(d=a.isWindow(c)?b.ownerDocument&&c===(b.ownerDocument.defaultView||b.ownerDocument.parentWindow):9===c.nodeType?a.contains(c.documentElement,b):a.contains(c,b),!d)throw new Error("Invalid container: is not an ancestor of the element")}function g(a){var b,c;if(a.direction&&"vertical"!==a.direction&&"horizontal"!==a.direction&&"both"!==a.direction)throw new Error('Invalid option value: direction = "'+a.direction+'"');if("undefined"!=typeof a.tolerance&&(b=k(a.tolerance),c=l(a.tolerance)&&/^[+-]?\d*\.?\d+(px|%)?$/.test(a.tolerance),!b&&!c))throw new Error('Invalid option value: tolerance = "'+a.tolerance+'"')}function h(a,b){return b?j(a,"Width"):a.width()}function i(a,b){return b?j(a,"Height"):a.height()}function j(a,b){var c=a[0].document,d="client"+b;return"BackCompat"===c.compatMode?c.body[d]:c.documentElement[d]}function k(a){var b="number"==typeof a||a&&"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)||!1;return b&&a===+a}function l(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)||!1}var m,n=window,o=a(window);a.scrollbarWidth=function(){var b,c;return void 0===m&&(c=a(document.createElement("div")).css({margin:0,padding:0,borderStyle:"none"}),b=a(document.createElement("div")).css({width:"100px",height:"100px",overflow:"auto",position:"absolute",top:"-500px",left:"-500px",margin:0,padding:0,borderStyle:"none"}).append(c).appendTo("body"),m=c.innerWidth()-c.height(150).innerWidth(),b.remove()),m},a.fn.ownerWindow=function(){var b=this[0],c=b&&(9===b.nodeType?b:b.ownerDocument);return c&&(c.defaultView||c.parentWindow)||a.isWindow(b)&&b||void 0},a.fn.inView=function(d,e){var g,h=this,i=[];return h.length?(g=b(h,d,e),f(h[0],g.container),h.each(function(){c(this,g)&&i.push(this)}),a(i)):a()},a.fn.inViewport=function(a){return this.inView(this.ownerWindow(),a)},a.fn.isInView=function(a,d){var e,g=this,h=this[0];return g.length?(e=b(g,a,d),f(h,e.container),c(h,e)):!1},a.fn.isInViewport=function(a){return this.isInView(this.ownerWindow(),a)},a.expr.match.inviewport=/^(?:inVieport)$/i,a.expr.setFilters.inviewport=a.expr.createPseudo(function(){return a.expr.createPseudo(function(d,e){var g,h,i=d.length;if(i)for(h=b(a(d)),f(d[0],h.container),g=0;i>g;g++)e[g]=c(d[g],h)?d[g]:void 0})})}(jQuery||$)});
//# sourceMappingURL=jquery.isinview.min.js.map